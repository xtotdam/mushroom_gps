Screen:
    BoxLayout:
        orientation: "vertical"
        size_hint: [.9, 1]
        pos_hint: { 'top' : 1, 'right': .95}


        Label:
            text: "Я сейчас тут"
            color: (0,1,0,1)
            size_hint_y: 0.1

        Label:
            id: label_coords
            text: "широта и долгота"
            # font_size: 35
            size_hint_y: 0.12

        Label:
            text: "и я нашел"
            color: (0,1,0,1)
            size_hint_y: 0.1


        TabbedPanel:
            do_default_tab: False


            TabbedPanelItem:
                text: "Грибы"

                GridLayout:
                    id: buttons
                    cols: 2

                    Button:
                        text: "Белый"
                        background_color: (1,1,1,1)
                        text_color: (0,0,0,1)
                        on_press: app.save_point(self.text, self.background_color, 'mushroom')

                    Button:
                        text: "Подберезовик"
                        background_color: rgba("#873e23")
                        text_color: (1,1,1,1)
                        on_press: app.save_point(self.text, self.background_color, 'mushroom')

                    Button:
                        text: "Подосиновик"
                        background_color: rgba("#cc0000")
                        text_color: (1,1,1,1)
                        on_press: app.save_point(self.text, self.background_color, 'mushroom')

                    Button:
                        text: "Лисички"
                        background_color: rgba("#ffcc00")
                        text_color: (0,0,0,1)
                        on_press: app.save_point(self.text, self.background_color, 'mushroom')

                    Button:
                        text: "Козелок"
                        background_color: (0.7,1,0.7,1)
                        text_color: (0,0,0,1)
                        on_press: app.save_point(self.text, self.background_color, 'mushroom')

                    Button:
                        text: "Опята"
                        background_color: (0.7,0.7,0.7,1)
                        text_color: (0,0,0,1)
                        on_press: app.save_point(self.text, self.background_color, 'mushroom')

                    Button:
                        text: "Масленок"
                        background_color: rgba("#f5bc49")
                        text_color: (0,0,0,1)
                        on_press: app.save_point(self.text, self.background_color, 'mushroom')

                    Button:
                        text: "Чернушка"
                        background_color: (0,0,0,1)
                        text_color: (1,1,1,1)
                        on_press: app.save_point(self.text, self.background_color, 'mushroom')

                        # волнушка
                        # рыжик
                        # шампиньон


            TabbedPanelItem:
                text: "Ягоды"

                GridLayout:
                    id: buttons
                    cols: 2

                    Button:
                        text: "Земляника"
                        background_color: rgba("#F20739")
                        text_color: (0,0,0,1)
                        on_press: app.save_point(self.text, self.background_color, 'berry')

                    Button:
                        text: "Черника"
                        background_color: rgba("#4D115C")
                        text_color: (1,1,1,1)
                        on_press: app.save_point(self.text, self.background_color, 'berry')

                    Button:
                        text: "Малина"
                        background_color: rgba("#BE2561")
                        text_color: (1,1,1,1)
                        on_press: app.save_point(self.text, self.background_color, 'berry')

                    Button:
                        text: "Брусника"
                        background_color: rgba("#ff0000")
                        text_color: (0,0,0,1)
                        on_press: app.save_point(self.text, self.background_color, 'berry')

                    Button:
                        text: "Костяника"
                        background_color: rgba("#F21707")
                        text_color: (0,0,0,1)
                        on_press: app.save_point(self.text, self.background_color, 'berry')

                    Button:
                        text: "Клюква"
                        background_color: rgba("#F20739")
                        text_color: (0,0,0,1)
                        on_press: app.save_point(self.text, self.background_color, 'berry')

            TabbedPanelItem:
                text: "Что-то еще"

                BoxLayout:
                    orientation: "vertical"

                    TextInput:
                        id: something
                        hint_text: "Что это?"

                    GridLayout:
                        cols: 2
                        orientation: "lr-tb"
                        size_hint_y: 0.5

                        ToggleButton:
                            group: "what"
                            text: "Гриб"
                            state: "down"
                            id: tg_mushroom

                        ToggleButton:
                            group: "what"
                            text: "Ягоды"
                            id: tg_berry

                        ToggleButton:
                            group: "what"
                            text: "Ориентир"
                            id: tg_orientir

                        ToggleButton:
                            group: "what"
                            text: "Еще что-то"
                            id: tg_else

                    Button:
                        text: "Отметить"
                        size_hint_y: 0.25
                        background_color: (0,1,0.5,1)
                        on_press: app.save_point(something.text, (0,0,1,1), (tg_mushroom.state, tg_berry.state, tg_orientir.state, tg_else.state))



        ScrollView:
            do_scroll_x: True
            do_scroll_y: True
            size_hint_y: 0.25

            Label:
                id: label_log
                size_hint_y: None
                height: self.texture_size[1]
                text_size: self.width, None
                padding: 10, 10
                text:
                    'coordinate log'

        GridLayout:
            id: buttons
            rows: 1
            size_hint_y: 0.15

            Button:
                text: "Экспорт GPX"
                background_color: (1,1,1,1)
                text_color: (0,0,0,1)
                size_hint_y: 0.15
                on_press: app.save_gpx()

            Button:
                text: "Восстановить"
                background_color: (0,1,0,1)
                on_press: app.restore_storage()

            Button:
                text: "Очистить"
                background_color: (1,0,0,1)
                text_color: (0,0,0,1)
                size_hint_y: 0.15
                on_press: app.clear_storage()
